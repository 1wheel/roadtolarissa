
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Road to Larissa</title>
  <meta name="author" content="Adam Pearce">

  
  <meta name="description" content="An interactive map made for visualizing.org&#8217;s Meteorites contest. I started from &#8216;scratch&#8217; with a blank map of the world generated &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
<!--   <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 -->

 
  
  <link rel="canonical" href="http://roadtolarissa.com/blog/page/8">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Road to Larissa" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>

  <script src="/javascripts/libs/jquery.min.js" type="text/javascript"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
 -->
  

</head>
 
<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Road to Larissa</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:roadtolarissa.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<!-- <ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
 -->
</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  testing!
  <p>1</p>
  <p>downnn</p>
  <p>downnn</p>
  <p>downnn</p>
  <p>downnn</p>

</div>
<aside class="sidebar">
  
    <section>
  <h1>Adam Pearce</h1>
    <a href='mailto:adam.r.pearce@gmail.com' target='_blank' >
	  	<img src='/images/email.png'  style="margin-bottom: 4px">
    </a>

    <a href='/atom.xml' target='_blank'>
      <img src='/images/rss.png'>
    </a>

    <a href='http://stackoverflow.com/users/1333195/adam-pearce' target='_blank'>
      <img src='/images/stackoverflow.png'>
    </a>

    <a href='https://github.com/1wheel' target='_blank'>
      <img src='/images/gitcat.png' style="height: 32px;">
    </a>

    <a href='https://twitter.com/adamrpearce' target='_blank'>
      <img src='/images/twitter_bird.png'>
    </a>
<!-- 
    <a href='http://www.last.fm/user/uniwheel' target='_blank'>
      <img src='/images/last.fm.png'>
    </a>
 &#8211;>
<!--     <a href='https://www.goodreads.com/user/show/1964465-adam' target='_blank'>
      <img src='/images/github.png'>
    </a>
 &#8211;>
    <a href='http://www.linkedin.com/pub/adam-pearce/65/557/a27' target='_blank'>
      <img src='/images/linkedin.png'>
    </a>
    
</section>
<section>
  <h1>Posts</h1>
    
      <li class="post">
        <a href="/drawdown">Drawdown</a>
      </li>
    
      <li class="post">
        <a href="/215-teeth">215 Teeth / 1008 Beats</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/23/even-fewer-lamdas-with-d3/">Even Fewer Lambdas in D3</a>
      </li>
    
      <li class="post">
        <a href="/population-division">Population Division</a>
      </li>
    
      <li class="post">
        <a href="/synth">Making Music With D3</a>
      </li>
    
      <li class="post">
        <a href="/twisters-post">Twisters</a>
      </li>
    
      <li class="post">
        <a href="/nba_draft">NBA Draft</a>
      </li>
    
      <li class="post">
        <a href="/meteor-map">Meteor Map</a>
      </li>
    
      <li class="post">
        <a href="/film-strips-post">Film Strips</a>
      </li>
    
      <li class="post">
        <a href="/whale-words">Whale Words</a>
      </li>
    
      <li class="post">
        <a href="/unemployment-rates">Unemployment Rates</a>
      </li>
    
      <li class="post">
        <a href="/zoomable-sierpinski-triangle-with-d3-js">Zoomable Sierpinski Triangle With d3.js</a>
      </li>
    
      <li class="post">
        <a href="/interactive-visualization-of-white-house-petition-signatures">White House Petition Signatures</a>
      </li>
    
      <li class="post">
        <a href="/next-project">Next Project</a>
      </li>
    
      <li class="post">
        <a href="/redditgraphs-retrospective">Redditgraphs Retrospective</a>
      </li>
    
      <li class="post">
        <a href="/reddit-comment-visualizer">Reddit Comment Visualizer</a>
      </li>
    
      <li class="post">
        <a href="/yglesias-on-amazons-pe-ratio">Yglesias on Amazon&#8217;s P/E Ratio</a>
      </li>
    
      <li class="post">
        <a href="/speed-issues-with-gokos-online-dominion-implementation">Speed Issues Goko Dominion</a>
      </li>
    
      <li class="post">
        <a href="/connect-4-ai-how-it-works">Connect 4 AI: How It Works</a>
      </li>
    
      <li class="post">
        <a href="/maximin-connect-4-completed">Maximin Connect 4 Completed</a>
      </li>
    
      <li class="post">
        <a href="/first-post">First Post</a>
      </li>
    
</section>


<!--   	
  	
  	
  	  
  	  <h2>2014</h2>
  	
  	<article>
  	  
<h1><a href="/drawdown">Drawdown</a></h1>
<time datetime="2014-08-19T00:00:00-04:00" pubdate><span class='month'>Aug</span> <span class='day'>19</span> <span class='year'>2014</span></time>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/215-teeth">215 Teeth / 1008 Beats</a></h1>
<time datetime="2014-08-05T00:00:00-04:00" pubdate><span class='month'>Aug</span> <span class='day'>05</span> <span class='year'>2014</span></time>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/blog/2014/06/23/even-fewer-lamdas-with-d3/">Even Fewer Lambdas in D3</a></h1>
<time datetime="2014-06-23T00:00:00-04:00" pubdate><span class='month'>Jun</span> <span class='day'>23</span> <span class='year'>2014</span></time>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/population-division">Population Division</a></h1>
<time datetime="2014-03-06T00:00:00-05:00" pubdate><span class='month'>Mar</span> <span class='day'>06</span> <span class='year'>2014</span></time>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/synth">Making Music With D3</a></h1>
<time datetime="2014-01-15T00:00:00-05:00" pubdate><span class='month'>Jan</span> <span class='day'>15</span> <span class='year'>2014</span></time>


  	</article>
  	
  	
  	
  	  
  	  <h2>2013</h2>
  	
  	<article>
  	  
<h1><a href="/twisters-post">Twisters</a></h1>
<time datetime="2013-10-22T00:00:00-04:00" pubdate><span class='month'>Oct</span> <span class='day'>22</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/nba_draft">NBA Draft</a></h1>
<time datetime="2013-06-16T00:00:00-04:00" pubdate><span class='month'>Jun</span> <span class='day'>16</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/meteor-map">Meteor Map</a></h1>
<time datetime="2013-05-19T00:00:00-04:00" pubdate><span class='month'>May</span> <span class='day'>19</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/film-strips-post">Film Strips</a></h1>
<time datetime="2013-05-02T00:00:00-04:00" pubdate><span class='month'>May</span> <span class='day'>02</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/whale-words">Whale Words</a></h1>
<time datetime="2013-01-28T00:00:00-05:00" pubdate><span class='month'>Jan</span> <span class='day'>28</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/unemployment-rates">Unemployment Rates</a></h1>
<time datetime="2013-01-21T00:00:00-05:00" pubdate><span class='month'>Jan</span> <span class='day'>21</span> <span class='year'>2013</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	  
  	  <h2>2012</h2>
  	
  	<article>
  	  
<h1><a href="/zoomable-sierpinski-triangle-with-d3-js">Zoomable Sierpinski Triangle With d3.js</a></h1>
<time datetime="2012-12-21T00:00:00-05:00" pubdate><span class='month'>Dec</span> <span class='day'>21</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/interactive-visualization-of-white-house-petition-signatures">White House Petition Signatures</a></h1>
<time datetime="2012-12-19T00:00:00-05:00" pubdate><span class='month'>Dec</span> <span class='day'>19</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/next-project">Next Project</a></h1>
<time datetime="2012-11-20T00:00:00-05:00" pubdate><span class='month'>Nov</span> <span class='day'>20</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/redditgraphs-retrospective">Redditgraphs Retrospective</a></h1>
<time datetime="2012-11-17T00:00:00-05:00" pubdate><span class='month'>Nov</span> <span class='day'>17</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/reddit-comment-visualizer">Reddit Comment Visualizer</a></h1>
<time datetime="2012-10-19T00:00:00-04:00" pubdate><span class='month'>Oct</span> <span class='day'>19</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/redditgraphs/'>redditgraphs</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/yglesias-on-amazons-pe-ratio">Yglesias on Amazon&#8217;s P/E Ratio</a></h1>
<time datetime="2012-10-10T00:00:00-04:00" pubdate><span class='month'>Oct</span> <span class='day'>10</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/speed-issues-with-gokos-online-dominion-implementation">Speed Issues Goko Dominion</a></h1>
<time datetime="2012-10-06T00:00:00-04:00" pubdate><span class='month'>Oct</span> <span class='day'>06</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/connect-4-ai-how-it-works">Connect 4 AI: How It Works</a></h1>
<time datetime="2012-09-30T00:00:00-04:00" pubdate><span class='month'>Sep</span> <span class='day'>30</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/maximin-connect-4-completed">Maximin Connect 4 Completed</a></h1>
<time datetime="2012-09-29T00:00:00-04:00" pubdate><span class='month'>Sep</span> <span class='day'>29</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
  	
  	
  	<article>
  	  
<h1><a href="/first-post">First Post</a></h1>
<time datetime="2012-09-27T00:00:00-04:00" pubdate><span class='month'>Sep</span> <span class='day'>27</span> <span class='year'>2012</span></time>

<footer>
  <span class="categories">posted in <a class='category' href='/blog/categories/uncategorized/'>Uncategorized</a></span>
</footer>


  	</article>
  	
 &#8211;>
  
</aside>
<!-- <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/meteor-map">Meteor Map</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-05-19T00:00:00-04:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://roadtolarissa.com/meteors/"><img class=" wp-image-234 alignnone" alt="meteor map" src="http://www.roadtolarissa.com/wp-content/uploads/2013/05/meteormap.png" width="620" height="421" /></a></p>

<p><em>An <a href="http://roadtolarissa.com/meteors/">interactive map</a> made for <a href="http://visualizing.org/contests/visualizing-meteorites">visualizing.org&#8217;s Meteorites contest</a>.</em></p>

<p>I started from &#8216;scratch&#8217; with a blank <a href="http://www.jasondavies.com/maps/transition/">map of the world generated</a> by d3. Each meteor in the contest data set had a latitude and longitude, so I used those coordinates to plot a small circle on the map to represent each impact. After coloring the circles orange, the map looked almost like the one above.</p>

<p>Most of the ~30 hours I&rsquo;ve spent working on this map were spent adding some of these small improvements:</p>

<ul>
<li><strong style="line-height: 16px;">Circle size and color proportional to meteor mass<br /> </strong>The data set also included the meteors&#8217; mass. I initially tried to make each circle&rsquo;s radius proportional to the square root of the mass so each pixel of circle would correspond to some amount of mass. Because of the masses of meteors varied so much  the largest were too big and smallest were too small to see. After playing around with exponents smaller than &frac12;, I eventually switched to logarithmic scaling. This gets rid of any simple correspondence between a circle&rsquo;s area and mass, but fits the data much better. Glancing at the histogram, it appears that the distribution of masses is approximately log-normal.</li>
<li><strong>Mouseover</strong> <strong>effects</strong><br/>
<a href="http://www.roadtolarissa.com/wp-content/uploads/2013/05/mouseover.png"><img class="alignnone size-full wp-image-242" alt="mouseover" src="http://www.roadtolarissa.com/wp-content/uploads/2013/05/mouseover.png" width="254" height="326" /></a><br/>
The data set had some additional information that I wasn&rsquo;t sure how to represent graphically. To keep that information accessible and make the map interactive, I added it to a mouseover tooltip. Each meteor also had a URL pointing to its <a href="http://www.lpi.usra.edu/meteor/metbull.php?code=23593">meteorological society page</a> which was used to create an onclick event for the circles. The pages had pictures of meteors which I used to create thumbnail previews. This went fairly smoothly until I tried to upload the images to my webserver. I was using meteor name as the filename and some of them had unicode characters which resulted in weird errors that were difficult to diagnose.</li>
<li><strong>Crossfilters<br/>
</strong>To make the map even more interactive, I incorporated the year and mass data into histogram <a href="http://square.github.io/crossfilter/">crossfilters</a>. I&rsquo;ve used the crossfilter library indirectly before, through <a href="http://nickqizhu.github.io/dc.js/">dc.js</a> which has several chart types premade. Getting the circles on the map to change with transitions went beyond what dc.js can do out of the box and I had to get my hands dirty with the actual crossfilter library. The messiness of the code I ended up with reflects that - I&rsquo;m getting closer to doing things correctly, but I&rsquo;m not quite there yet.</li>
</ul>


<p>Ultimately, I ended up with a presentation pretty close to <a href="http://vimeo.com/59791629">Javier de la Torre&rsquo;s</a>:</p>

<p><a href="http://www.roadtolarissa.com/wp-content/uploads/2013/05/cartodb.png"><img class="alignnone size-full wp-image-247" alt="cartodb" src="http://www.roadtolarissa.com/wp-content/uploads/2013/05/cartodb.png" width="744" height="442" /></a></p>

<p>I  think my version has a number of improvements (obviously, I just finished making it!) &#8211; the better looking tooltips which active on mouseover not on click, the crossfilters, dotmap instead of heatmap (I really don&rsquo;t like what happens to their contiguous areas on zoom)  - but Torre apparently made his in only 30 minutes. I don&rsquo;t regret the additional time spent on mine since most of it was spent learning, but <a href="http://osm2.cartodb.com/tables/2320/public#/map">cartodb</a> or <a href="https://developers.google.com/fusiontables/">fusion tables</a> look like they would be the appropriate tool to use the vast majority of the time. I am a little frustrated I wasn&rsquo;t able to do more with the flexibility of d3 - the only other published entry for the contest I&rsquo;ve seen, <a href="http://bolid.es/">bolid.es</a>, is stunning &#8211; and I&rsquo;m looking forward to seeing what else gets made.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/7/">Newer &rarr;</a>
    
  </div>
</div>
 &#8211;>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Adam Pearce -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
