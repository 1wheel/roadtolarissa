---
template: post.html
title: 2017 Chart Diary
permalink: /2017-chart-diary
shareimg: http://roadtolarissa.com/images/posts/worlds-group.png
draft: true
---

Things I wrote about things I made in 2017.

## [You Draw It: What Got Better or Worse During Obama’s Presidency](https://www.nytimes.com/interactive/2017/01/15/us/politics/you-draw-obama-legacy.html)

The idea is cribbed from an [upshot piece](http://www.nytimes.com/interactive/2015/05/28/upshot/you-draw-it-how-family-income-affects-childrens-college-chances.html). We got a little crunched for time and weren't as fancy about customizing feedback for ways in which the lines were drawn incorrectly. Still, I think the core idea of making people put their assumptions down and overlaying reality over them works and increases [memorability/engagement](http://faculty.washington.edu/jhullman/explaining_the_gap.pdf). 

I'm a little surprised this form hasn't been used more. The chart dragging code isn't super complex - just [60 lines of d3](http://bl.ocks.org/1wheel/07d9040c3422dac16bd5be741433ff1e) for a mpv.

One bit that we should have spent more time on before publishing: clearly labeling the years. We originally put the year labels [directly below](https://imgur.com/xUZurSS) the tick, but there was a lot of confusion over Obama getting credit/blame for Bush's last year in office. Moving the year labels to the [left of the tick](https://imgur.com/vIqA2Q1) clarified that the data points were for values at the end of the year. 

We've also been tracking the accuracy of people's responses, but need to come up with a more understandable form than the [log scaled small multiple violin plot](http://imgur.com/J58zgla).


## [Tracking Trump’s Agenda, Step by Step](https://www.nytimes.com/interactive/2017/us/politics/trump-agenda-tracker.html)

First time publishing something with flexbox! It was nice to use, but I've just switched back to `inline-block` on deadline and I guess I'm supposed to be learning `grid` now?

## [Trump’s Cabinet Picks Have Faced Record-Setting Opposition](https://www.nytimes.com/interactive/2017/02/09/us/politics/trump-cabinet-opposition.html)

The Senate Librarian maintains a [doc with each cabinet appointment](https://imgur.com/oAyl3kO). Just scrolling through the data, I was surprised at how recently confirmations hearings had become contentious during a president's first year. 

To show that, I tried a [histogram](https://imgur.com/H7LGK8e) with the percent of yes votes. There were passed by unanimous consent it was hard to fit them all in, even when I switched to a [beeswarm plot](https://imgur.com/7oFJgwp) and expanded the vertical space. To show how unique the votes on Trump's nominees were, I tried counting the [cumulative number of votes](https://imgur.com/8xn0ZDl) against his nominees. Not showing each nominee lost some of the connection to the news though.

To highlight controversial nominees, I used the form and cutouts from Jasmine's [piece on cabinet demographics](https://imgur.com/UVvopfr---https://www.nytimes.com/interactive/2017/01/13/us/politics/trump-cabinet-women-minorities.html) and colored the nominees by No votes. The color scale could have been better though, maybe fewer buckets?


## [Kindle Tracker](https://www.roadtolarissa.com/kindle-tracker/)

Amazon tracks what & when you read on kindle but doesn't share that information with you. I wrote a little script that extracts and visualizes your reading history.


## [Muslim Refugees Were Admitted at a Lower Rate During Trump’s Refugee Ban](https://www.nytimes.com/interactive/2017/02/26/us/trump-refugees-muslim.html)

The Refugee Processing Center published [detailed daily demographics](https://imgur.com/EHb3DF0---http://ireports.wrapsnet.org/) behind a form that requires downloading data one day at a time. I couldn't figure out how to directly script the ASP.NET, so I used nightmarejs to simulate clicking the forms to fill them out and download data. 

I tried some denser forms, looking at the [number of refugees by country and religion](https://imgur.com/LqFOsOk) arriving each year. Lots of interesting details, but not about the story we were telling. Rebecca [removed data and simplified](https://imgur.com/nlsMdfs), sharping the presentation.

My first attempt at showing [annual admissions](https://imgur.com/5iqkM29) plotted daily data and made it difficult to see the rate of admissions over the course of the year. Switching to [monthly data](https://imgur.com/pvb7Gfv) fixed that and removed the need for the "refugees admitted by this date in past years" marker.


## [Where Refugees Come From](https://www.nytimes.com/interactive/2017/03/06/world/where-refugees-come-from.html)

Another look at the refugee admissions data, this time focusing on countries of origin over time. I was a little anxious when starting this project - we were trying to publish that day and setting up maps with d3 can be slow. To get going fast, I grabbed some code from a [previous project](https://imgur.com/8lB6OCl---https://www.nytimes.com/interactive/2016/11/18/world/europe/pope-francis-cardinals-shape-church.html) and made a [bubble chart](https://imgur.com/XrFWMl5).

Distorting geography to stop the bubbles from overlapping was too confusing with potentially unfamiliar locations: Iran starts out between Iraq and Bhutan, then moves south of Iraq. So we switched to [overlapping circles on a map](https://imgur.com/Q6sC5eX). With some last second [color assistance](https://imgur.com/XrFWMl5) and some bug fixes, it got published on time. 


## [How Much People in the Trump Administration Are Worth](https://www.nytimes.com/interactive/2017/04/01/us/politics/how-much-people-in-the-trump-administration-are-worth-financial-disclosure.html)

Quick project done the day after the Trump administration published financial disclosure forms. The value of assets are listed as a range. To show the range in each person of each persons networth, I tried show


## [How Every Member Voted on the House Health Care Bill](https://www.nytimes.com/interactive/2017/05/04/us/politics/house-vote-republican-health-care-bill.html&action=click&contentCollection=undefined&region=stream&module=stream_unit&version=latest&contentPlacement=24&pgtype=collection)

The House doesn't post live election results so we sent people [into the chamber](https://www.nytimes.com/2017/05/08/insider/how-we-beat-the-house-in-tallying-the-health-care-vote.html) to count votes. Kevin nearly had a [heart attack](https://imgur.com/MDgJ7gm---https://twitter.com/KevinQ/status/860233540331601921)


## [How Every Lawmaker Has Reacted to Comey’s Firing So Far](https://www.nytimes.com/interactive/2017/05/10/us/politics/congress-statements-comey.html)

More congressional table journalism. I tried writing a tool to do automatically pull in statements from twitter and facebook, but couldn't get put it together fast enough. Download the raw social media text isn't too difficult (well, the twitter api is a headache), but putting them into an environment where they can be annotated in real time is tricky. We'll usually paste a spreadsheet into google sheets, but that's not easy to update after six people have been [marking it up](https://imgur.com/fxGmCI0) for a hours.  

## [Animated Map of How Tens of Thousands of Computers Were Infected With Ransomware](https://www.nytimes.com/interactive/2017/05/12/world/europe/wannacry-ransomware-map.html)

Jeremy got a hold of some interesting data this afternoon and we threw together a map. 

I made the map with d3 and a couple of canvas tricks from an [old Bloomberg piece](https://imgur.com/XdCmjNR---https://www.bloomberg.com/graphics/2015-uk-election/messy.html). There are too many points (80,000+!) to animate with svg, so I use two canvas layers. The top one is cleared every frame and each moving point is redrawn. The bottom frame only has points drawn on it and is never cleared so it keeps a record of every location.

We briefly talked about showing time in different ways - a line chart or small multiple maps by hour - but there was a chunk of time missing. After publishing, I explored some alternative representations with [d3-contour](https://imgur.com/4pmDBhy---https://bl.ocks.org/1wheel/5d6990abfff925e6a37e0557f1de18e5) which clearly shows the higher rate of hacking in Eastern Europe and China. Its easier to use a nonlinear scale when you're programming at higher level than drawing rectangles on top of each other. 

Of course, number of hacked IPs per square mile is not the most meaningful thing in the world to show. Perhaps some kind of binning to compare the amount of hacking to the number of computers in different regions of the world would have been a better approach. 


## [The 64 Ways into the Mid-Season Invitational Knockout](The 64 Ways into the Mid-Season Invitational Knockout)

I was curious about about the rest of the group stage would play out, so I threw together a visualization looking at how the result of each game will affect each team's chance of making out of groups. 

I started out thinking that I would follow the form of my [previous crack at this problem](http://roadtolarissa.com/worlds-group/). Since each team is only playing two games, you only get four groupings of points which ends up not being as interesting - all of the interesting action happen in -other- team's games. So I tried looking the scenarios in a more [structured way](https://i.imgur.com/fL9jtXQ.gif), shuffling the boxes to compare how the outcome of the game would change everyone's standings. I felt like I was learning interesting things from the different arrangements, but it was hard to see which games had the biggest impact so I sorted each column individually instead of keeping each scenario in its own row. A little easier to read but loses some of the nice mathematical elegance of exploring 6d hypercube.

Charts were still kinda weird so I stuck them inside of [graph-scroll](https://github.com/1wheel/graph-scroll) to make them more palatable. There's still way too much text in the piece, but I didn't give myself a [ton of time](https://i.imgur.com/vXHc8fO.png) for editing. 

Update: Darn it! I messed up the [tie-breaking rules](http://esports-assets.s3.amazonaws.com/production/files/rules/MSI-Ruleset-2017-v5.pdf)! I counted the total wins in games between the tied three teams instead of comparing the head to head records of each team. Sorry about the incorrect info everyone : ( 

> If three or more teams are tied, the head-to-head record of all teams
against each other team involved in the tiebreaker will be considered. If a
single team owns a winning record (as defined as winning more than 50%
of the games) against every other team in the tiebreaker, they are
automatically granted the highest seed available in the tiebreaker, and a
new tiebreaker is declared amongst the remaining teams. 


## [LeBron James Scores 5,995th Playoff Point](https://www.nytimes.com/interactive/2017/05/25/sports/basketball/lebron-career-playoff-points-record.html)

I started out just trying to show how much LeBron scored in each playoff game. A [table of circles](http://imgur.com/OE2W94d) did a nice job of showing wins and losses, but area isn't easy to compare at such a small size. Using [height](http://imgur.com/ZS7u3E0) instead helped, but I wasn't thrilled about information density; the [pieces I'm proudest of](https://imgur.com/keQxUuC---http://roadtolarissa.com/nba-minutes/) are rich with detail that rewards exploration and careful reading.

I tried squeezing the graphic to fit other players in, but since the y position was used to encode both season and points scored, it wasn't possible to get very small. So I moved season to the x position, distinguishing it from series with white space, which opened up a lot of [vertical room for other players](http://imgur.com/jI0B46D). This came at the cost of being able to compare LeBron's record at different rounds of the playoffs across seasons — he hasn't lost a first round game for 5 years! — which I tried to alleviate by highlighting result of the last series played in a season. 

A little bit of [polish made it prettier](http://imgur.com/dQKXqn6), but there were still  significant problems with the form. The piece was about LeBron passing MJ's record, but because so much emphasis was placed on individual games, it was hard to compare the area of players' charts to see who had the most points. Tight on time, I fell back on the [classic cumulative record chart](https://imgur.com/R3nsaMy---http://www.nytimes.com/interactive/2010/07/29/sports/rodriguez-600.html). Updated with more transitions and scrolling!

After LeBron's 11 point game gave me some extra time, I went back to idea of trying to show each playoff game. [Stacked bars](http://imgur.com/nZ4314F) eliminated the huge amount of vertical variation between games so player's point were more perceivable. To distinguish series, I switched color from win/loss to playoff depth. This made me a little sad — you can't trace your finger along and recall individual games like you could in the previous version — but made it did a better job showing how players from different eras got their points. Finally, I used a [small multiples layout](http://imgur.com/dpN0kIE) instead of vertically sorting by time with a common x scale to fit more players in a smaller space.


## [The Stakes in the Paris Climate Deal: What Might Other Countries Do?](https://www.nytimes.com/interactive/2017/05/31/climate/trump-climate-paris-agreement.html)

update to post election piece. staggered transitions? languishing code gets ugly

## [How Britain Voted](https://www.nytimes.com/interactive/2017/06/08/world/europe/british-general-election-results-analysis.html)

## [The Golden State Warriors’ Record-Setting Postseason](https://www.nytimes.com/interactive/2017/06/17/sports/basketball/golden-state-warriors-post-season.html)

## [Georgia Election Results](https://www.nytimes.com/elections/results/georgia-congressional-runoff-ossoff-handel)

Dial, but no jittery ["Aisch’s deception"](https://www.theatlantic.com/technology/archive/2017/02/why-some-apps-use-fake-progress-bars/517233/)

## [Baseball’s Upward Trend Is Leaving Some Players Grounded](https://www.nytimes.com/interactive/2017/07/09/sports/baseball/BASEBALL-LAUNCH-ANGLE.html)



## [It’s Not Your Imagination. Summers Are Getting Hotter.](https://www.nytimes.com/interactive/2017/07/28/climate/more-frequent-extreme-summer-heat.html)

Nadja did almost all the work on this. The [original animation](https://imgur.com/Mognewr) had a single frame for each time period. I thought it'd be cool to transition between the time periods - not too tricky if you know to use the [mask element](https://bl.ocks.org/1wheel/76a07ca0d23f616d29349f7dd7857ca5)!


## [Good, Evil, Ugly, Beautiful: Help Us Make a ‘Game of Thrones’ Chart](https://www.nytimes.com/interactive/2017/08/09/upshot/game-of-thrones-chart.html)

Possibly the most rewritten thing I've ever worked on. Kevin and Josh sketched out version of the quiz where you [clicked](https://imgur.com/tVTqB3J) on the chart to place characters. To make the interaction more intuitive, Gregor tweaked their code to use the [HTML Drag and Drop API](https://imgur.com/lZeHwBB). Kevin had some ideas for making the dragging feel like a native app that weren't doable without finer control. Gregor had just left for vacation, so I hacked together a versions with [d3-drag](https://imgur.com/jzO6Vw1)... and left for vacation. 

Tasked with putting together something publishable, Rich sensibly deleted our terrible code and rewrote the whole thing in [svelte](https://imgur.com/mJZMTTR).


## [New York’s Subways Are Not Just Delayed. Some Trains Don’t Run at All.](https://www.nytimes.com/interactive/2017/08/07/nyregion/new-yorks-subways-are-not-just-delayed-some-trains-dont-run-at-all.html)

While working on an earlier [subway article](https://www.nytimes.com/interactive/2017/06/28/nyregion/subway-delays-overcrowding.html?_r=0) Rebecca and Ford heard that MTA was contributing to overcrowding by not running as many trains as scheduled. We started looking into the MTA's real time [feed of train arrival times](http://datamine.mta.info/sites/all/files/pdfs/GTFS-Realtime-NYC-Subway%20version%201%20dated%207%20Sep.pdf) to determine if that was true. It was harder than we anticipated.

The MTA doesn't archive arrival time data ([this page](http://web.mta.info/developers/MTA-Subway-Time-historical-data.html) hasn't been updated for years), so we only had data after we started scraping. The feed only listed trains' projected arrival times; inferring trains' actual position required comparing the feed at different timestamps and recording when projected station arrival time was remove from the feed. 

Without any documentation on how to do this from the MTA, this process was fraught with errors. I made a ton of Marey diagrams to diagnose different parsing errors: trains moving [backwards through space/time](https://imgur.com/nLrzZSs), [crossing over each other a single track line](https://imgur.com/HY2mYbY) and [splinting into two](https://imgur.com/bY5uFwT). It was hard to differentiate when stations disappearing from the feed indicated an arrival or a canceled trip. 

Charting projected arrival time against timestamp of the feed for each station on train's trip revealed the source of some of these problems. Sometimes projected arrival time is[after](https://imgur.com/ZZd32Io) the timestamp! Apparently, the projected arrival times don't update when trains are stopped. When the train does start moving again, [the original arrival times are briefly pushed through the feed](https://imgur.com/S0EYUw7).

Without a ground source of truth to compare different feed parsing algorithms to, there wasn't any way to definitively count actual train throughput. We weren't sure how to proceed until The Albany Visualization and Informatics Lab pointed us to a [paper](http://amonline.trb.org/trb57535-2015-1.1793793/t006-1.1818822/223-1.1807429/15-4665-1.1820389/15-4665-1.1955472?qr=1 ) the MTA published on parsing their feed. Their approach wasn't perfect-sometimes a single trip would get split into two segments-but it was good enough to count the number of trains going through Grand Central each hour.


I sketched out a [dense visualization](https://imgur.com/lGeHkzu) showing the number of trains each hour during June. 



## [Even With Affirmative Action, Blacks and Hispanics Are More Underrepresented at Top Colleges Than 35 Years Ago](https://www.nytimes.com/interactive/2017/08/24/us/affirmative-action.html)

This started as a follow up to reports that the [DOJ was going to challenge affirmative action in college admissions](https://www.nytimes.com/2017/08/01/us/politics/trump-affirmative-action-universities.html). Historic demographic data on college admissions and young high school graduates wasn't easy to pull together quickly though, so we started to put together a bigger piece not tied to new cycle. 

The design of the top charts went through several iterations. We started out with [slope charts](http://imgur.com/QnZyGDP) showing how the student population of different demographics had changed at different types of schools over the last 35 years. Fitting the white percentages on common scales was [trickery](http://imgur.com/FkH1Pzq), so we switched to showing the [difference](http://imgur.com/buvzjrZ) between percent admissions and population.

I really wanted the gap charts to work - they show so many different stories with just a few lines! - so I spent some time [tweaking the layout](http://imgur.com/zfFGOQJ) to squeeze them in. Distinguish between positive and negative gaps wasn't intuitive though ([even with particle animation](https://imgur.com/3ZkgDV9---https://bl.ocks.org/1wheel/4b9d34d74bd64a63d34028f160a71d7b)), so we ended up using an even more slimmed down version of the [slope charts](http://imgur.com/oAnVpuG). 

If I had a little more time, I would have liked to try including more chart forms and alternative gap measurements (the ratio of percents isn't the same as the difference of percents!) by transitioning between them in a scrollytelling piece. That would have required a big rewrite of copy/code which didn't make sense to attempt while we were waiting for a break in the news to publish. Other things to explore: a wider selection of schools (we had a drop down that let you chart any of the ~4,000 schools, but weren't 100% confident in the data so it was cut) and graduation rates.

Update: Some [criticism](http://www.motherjones.com/kevin-drum/2017/08/are-college-age-minorites-more-underrepresented-at-top-universities-than-35-years-ago/) from Kevin Drum: 

> When you have two trends that are increasing, you can’t look at the absolute differences over time. For example, suppose I have $1 and you have $2, and we both put our money in the bank. Over a decade, inflation doubles and so does our money. Now I have $2 and you have $4. The absolute difference has gone from $1 to $2, but the growth rate is equal and our relative purchasing power is exactly the same as before. It would be misleading to suggest that anything has changed.

That's true if you're dealing dollars. However, the absolute difference we were measuring was between percentages of students. Looking at the ratio of percentages doesn't tell the whole story when you're looking at the composition of a freshman class. 3%/6% and 12%/24% both have the same ratio, but one changes

The ratios are important and interesting too.

> So I dug into it. This turned out to be spectacularly difficult, so much so that I began to wonder if I was missing something obvious. I’ll spare you the details, but in the end, my rough estimate is that in 1980 about 2 percent of college-age Hispanics went to UC schools. Today, 5 percent do.

I've assumed that explicitly open sourcing data isn't worth the hassle since anyone interested in doing additional analysis would also know to open the dev tools and grab our CSV. That's not obviously true, so perhaps linking to data and explaining our methodology in more detail would be worth it. Not sure how to do that without spending tons of time on it. 




## [Harvey Rainfall](https://www.nytimes.com/interactive/2017/08/24/us/hurricane-harvey-texas.html?_r=0)

The trickiest part of this piece was finding the right data source. We wanted frequently updating, hourly data to show where the rain was falling the hardest and how much had fallen overall. 

I started looking at the [Global Precipitation Measurement Constellation](https://pmm.nasa.gov/data-access/downloads/gpm) which has data on rainfall around the world in 30 minute slices released on 6 hour lag. After spending a few hours figuring out how to open up netCDF files, I realized the data wasn't updated as regularly as I hoped. Coloring the data points by observation time showed the paths of [satellites](http://imgur.com/lgjC75m) [moving](http://imgur.com/cFAL1iC) across the sky. Since not every point gets updated at the same time or on the same interval, calculating cumulative rainfall was trickier than just summing the hourly interval - too tricky to do on deadline. 

After spending most of a Saturday wandering down a dead end, I was ready to give up. Until Anjali found a [NOAA ftp server](http://www.srh.noaa.gov/data/ridge2/Precip/qpehourlyshape/2017/201708/20170828/) with exactly the data I was looking for! The format was a bit strange - a shapefile with a [grid of points](http://imgur.com/Vgh8uZS) showing calculated rainfall. I threw together a rough script to download download the last few days of observations, combine them into a csv and [plot the values](http://imgur.com/5jo48l0). 

Since both the cumulative and the hourly rainfall were interesting, I tried a bivariate color scale to trace the hurricane's path in red. You can see the [eye](http://imgur.com/yeJyHxs) of the hurricane as it lands! All the colors were a little too much to explain in a key though, so we switched to circles to show the current path of the hurricane. We also had to cut down on the spatial resolution to keep the file size under control - maybe a video would have been better, but I'm a big fan of tiny charts inside of tooltips.  
For more on all the technical details that went into this, checkout the [tutorial](https://imgur.com/3tuLFrl---https://roadtolarissa.com/hurricane). 


## [Thousands Cried for Help as Houston Flooded](https://www.nytimes.com/interactive/2017/08/30/us/houston-flood-rescue-cries-for-help.html?_r=0)

We exported data from the [hurricane rescue map](https://www.google.com/maps/d/u/0/viewer?mid=1qmepB5HrFSthl1DyK7lG9slEabY&ll=29.749372349556896%2C-95.6675505611206&z=12) and animated the messages to get a sense of where people needed help over time. 

With thousands of messages, there was way too much text to print everything. We manually looked through the messages to pull out interesting, representative snippets that conveyed what each of dots popping up signified. Spacing them out semi-evenly during the animation was tricky when when scrolling through thousands of rows in a spreadsheet, so I made a [little chart](http://imgur.com/JA27mD0) to help see the timing.

We had a brief moment of panic when we realized the basemaps (projected to Texas South in qgis) didn't line up with with the dots (projected to [Texas South in d3](https://github.com/veltman/d3-stateplane#nad83--texas-south-epsg32141)). Apparently, d3 assumes that the earth is a sphere while qgis uses a more accurate ellipsoid. Pre-projecting the dots with [mapshaper](http://mapshaper.org/) and adding them to the basemap to line up the scaling & translating fixed the problem after a couple of hours of head scratching. I'm slowing learning how to do GIS things.

Archie suggested on nice touch on animating dots that I'll be reusing. I've usually shown new data points entering by [transitioning the size](https://roadtolarissa.com/meteors/). Combined with all the text on the screen, this made lots of extra visual noise. Replacing the resizing with fading halos highlighted new points without nearly so much noise. 

Trying to solve these problems on deadline and running low on sleep gives you tunnel vision. *["I downloaded an app. And suddenly, was part of the Cajun Navy"](http://www.chron.com/local/gray-matters/article/I-downloaded-an-app-And-suddenly-I-was-talking-12172506.phpos)*  tells the story from a more human perspective.


## [Hurricane Irma Is One of the Strongest Storms In History](https://www.nytimes.com/interactive/2017/09/09/us/hurricane-irma-records.html)

[Philip Klotzbach](http://tropical.atmos.colostate.edu/Realtime/) has been keeping a running tally of different records [broken by Irma](https://webcms.colostate.edu/tropical/media/sites/111/2017/09/Hurricane-Irma-Records.pdf).

To give his numbers a little bit of context, we started exploring different ways of representing Atlantic hurricanes. We tried a couple of different representations - scatterplots, maps, line charts. Since every chart had the same set of storms on it, I started playing around with ways of transitioning the charts into each other and we decided to do a scrolly piece (we've done a lot of [stacks](https://www.nytimes.com/by/adam-pearce) in the last few weeks). 

All of the 500+ lines of javascript that create the charts were written in 25 hours. This was probably a little too ambitious. Including all hurricanes looked great, but after running into performance issues on mobile and retina displays we decided to only including category 3 hurricanes. Coming at it fresh, a canvas rewrite would only have taken an hour or two (d3.line is super flexible!) but by the time that I realized we needed one I was too worn out to do it. 

I took a couple days the week after to [rewrite in regl](https://imgur.com/fSrst3U---https://bl.ocks.org/1wheel/9c90f55041220c600162b85f84e807c5). Includes my right to left time scale (so the westward paths don't invert) and line to scatter transition that were just a little too confusing to publish. 




## [We Charted Arctic Sea Ice for Nearly Every Day Since 1979. You’ll See a Trend.](https://www.nytimes.com/interactive/2017/09/22/climate/arctic-sea-ice-shrinking-trend-watch.html)

Nadja did most of the work on this piece. To distinguish the year lines I drew a slightly thicker black line behind each, a trick I picked up from a [Bloomberg piece](https://imgur.com/i2rXO3K---https://www.bloomberg.com/politics/graphics/2016-non-voters/) last year. To show the progression of time, we changed to color scale to years, which unfortunately made it quite similar to [Bloomberg's Arctic Sea Ice](https://imgur.com/Tm9OlpG---https://www.bloomberg.com/graphics/2017-arctic/) chart.

I tried a couple of other different approaches to differentiate the design a little. A [radial chart](https://i.imgur.com/A0HhfoQ.png), an area chart showing the [max/min ice extent](https://i.imgur.com/socJV1y.png) over time, a variation on that also showing the [25%/median/75% extent](https://imgur.com/05XfenW.png) and one width a [gradient](https://imgur.com/9EdsU1w.png). I think the area charts do an effective job showing the trend, but a wiggling line chart is a more compelling form that doesn't require as much explanation so we kept it. 

For the second time in a row, my dream of a [line to scatter plot transition](https://imgur.com/1c36Tgt.png) was thwarted . The falling dots were a little too joyful for charts about the Arctic melting away. I couldn't totally get rid of them though; click the year button five times and scroll down. 

Update: I feel better about copying Bloomberg's chart - Lisa [points out](https://blog.datawrapper.de/readers-time/) that Derek used the [same form in 2015](https://imgur.com/BrdLcZp---https://www.nytimes.com/interactive/2015/03/24/science/earth/arctic-ice-low-winter-maximum.html). 

I don't think I've ever made anything as richly annotated as the desktop version of Derek's chart. Even with [swoop-draw](http://1wheel.github.io/swoopy-drag/), incorporating text and leader lines is much easier in illustrator than in code (there are 5 styles of lines!). And responsive design is an even bigger obstacle. The [mobile charts](https://imgur.com/i9gvmFN) are basically the same, but we didn't add anything on wider screens. 

Not spending a ton of time adding features that only a fraction of our readers will see seems rational. I'm worried we're losing something though. 

Quickly coding up charts that work on a variety of devices requires avoiding desktop only designs. I'm worried I've focused too much on that; I never considered adding richer annotations with the additional space on desktop.


## [Nine Rounds a Second: Why the Las Vegas Shooting Was Different](https://www.nytimes.com/interactive/2017/10/02/us/vegas-guns.html)

/r/guns had a thread this morning about the type of weapon used in the Vegas shooting. I couldn't find any concrete information about the weapons used, so we started to explore ways of helping a lay audience understand the noises different kinds of fire rates make. 

Jon picked apart [sound files](https://i.imgur.com/vA08o9k.png) to pick out when each gun shot occurred. We considered using the sound of each gunshot, but filtering out the background noise was too difficult.

Design based on one of my [favorite graphics](https://imgur.com/C2Aopfu---http://www.nytimes.com/interactive/2010/02/26/sports/olympics/20100226-olysymphony.html). I added the y encoding of cumulative shots so the slope would show the rate of fire; you can see the bump stock's irregular rate.


## [2017 Worlds Group](https://roadtolarissa.com/worlds-group-2017/)

After getting a couple of requests for an update to the [2016 version](https://roadtolarissa.com/worlds-group), I grabbed this year's [data](http://lol.esportswikis.com/wiki/2017_Season_World_Championship/Main_Event#Schedule) and threw it into the charts. The [code](https://github.com/1wheel/roadtolarissa/blob/master/source/worlds-group-2017/script.js) wasn't quite as pretty as I remembered, but I think I've fixed the three-way tiebreaker bug that threw off the [MSI chart](https://imgur.com/FH7Mndt---https://roadtolarissa.com/msi-group/)—if not please let me know! 

Hopefully next year I'll have a chance to explore another [representation](https://imgur.com/h5sCVoz---https://bl.ocks.org/1wheel/edb19f67a301bdd8f28abc70db7e869f) of this data. I'd like something that you can read top to bottom as matches progress. With our world cup coverage [canceled](https://twitter.com/adamrpearce/status/917935378748837889) there should be plenty of time! 


## [Every Tax Cut and Tax Increase in the House G.O.P. Bill and What It Would Cost](https://www.nytimes.com/interactive/2017/11/15/us/politics/every-tax-cut-in-the-house-tax-bill.html)

We wanted to enumerate everything in the tax bill while also providing a higher level view of how the parts fit together than a [table](https://www.nytimes.com/interactive/2017/03/15/us/politics/trump-budget-proposal.html). Alicia sketched out [stacked bars](https://i.imgur.com/eQeEgsH.jpg) comparing the tax cuts and increases in the bill. We stuck pretty closely to this form, just omitting the third column of unchanged tax breaks.  We only had estimations of their current costs, not what they would cost with the standard deduction and tax brackets. 

Some of the provisions in the bill had a comparatively small impact on revenue and weren't tall enough to see as stacked boxes. Since we were also trying to show everything in the bill, I stole an idea from a [Bloomberg piece](https://www.bloomberg.com/graphics/2016-who-marries-whom/) and laid out a short description of each provision in a grid.  

We also briefly explored ways of showing numbers represent a ten year window, making a [stacked area chart](https://imgur.com/LOwj9ji.png) and putting chart of revenue impact over time in a tooltip. I thought it would be fun to transition from boxes to an area chart, but there wasn't much to say about the timing of different provisions. A [treemap alternative](https://i.imgur.com/r81uKKS.gif---https://bl.ocks.org/1wheel/45f3ed2f6931c286932fe34058c096c0) I played with wasn't quite ready. 

One detail I'd explore if I was studying humans perception: how people mentally process `1.2 trillion v. 86 billion` compared to how they understand `1,215 billion v. 86 billion`. My intuition is that our brains don't actually divide by a thousand to compare a `trillion` to `billion`. Consensus within the department was that comma was pretty confusing though, so I might be out thinking myself. 


<script src='../worlds-group-2017/d3_.js'></script>
<script>

var zIndex = 10
d3.selectAll('a').each(function(){
	var sel = d3.select(this)

	var [src, href] = sel.attr('href').split('---')
	if (!src.includes('imgur')) return

	sel.attr('href', href || '')
	if (href) sel.classed('actual-link', true)
	

	if (!src.includes('.png') && !src.includes('.gif')) src = src + '.png'

	sel
		.classed('mouse-over-img', true)
		.on('mouseover click', () => {
			sel.st({zIndex: zIndex++})

			if (href) return

			d3.event.preventDefault()
			d3.event.stopPropagation()
		})
		.append('div').append('div').append('img').at({src})

	// console.log(src)

})

setTimeout(function(){
	d3.selectAll('.mouse-over-img img').each(function(){
	  var bb = this.getBoundingClientRect()

	  var classStr = bb.left < 120 ? 'left' : innerWidth - bb.left < 120 ? 'right' : ''
	  d3.select(this).attr('class', classStr)
	})
}, 0)
</script>

<style>

html{
	overflow-x: hidden;
}

.mouse-over-img{
  position: relative;
  transition: all .5s;
  background: #000;
  color: #f5f5f5;
  padding: 1px;
  padding-left: 2px;
  text-decoration: none;
  z-index: 0;
  cursor: default;
}

.mouse-over-img.actual-link{
	text-decoration: underline;
	cursor: pointer;
}



.mouse-over-img div{
  display: inline-block;
  line-height: 25px;
  position: relative;
  overflow: visible;
  width: 25px;
  /* border: 3px solid black; */
}

.mouse-over-img div div{
  position: absolute;
  width: auto;
  height: auto;
}

.mouse-over-img img{
  width: 19px;
  max-height: 14px;

  position: absolute;
  bottom: -1px;
  left: 4px;

  transition: all .25s;
}

.mouse-over-img:hover{
}
p:hover{
	position: relative;
	z-index: 10;
}
p{
	position: relative;
	z-index: 1;
}

.mouse-over-img div div{
  pointer-events: none;
}
.mouse-over-img img{
  pointer-events: all;
}

.mouse-over-img:hover img{
  width: 350px;
  max-height: 400px;
  opacity: 1;
}

.mouse-over-img:hover img{
  /*transform: translate(-150px, -80px);*/
  left: -150px;
  bottom: -80px;
}

.mouse-over-img:hover img.left{
  /*transform: translate(0px, -80px);*/
  left: 0px;
}
.mouse-over-img:hover img.right{
	left: -300px;
  /*transform: translate(-300px, -80px);*/
}

/*@media only screen and (max-width: 768px){
  .mouse-over-img div div{
    position: inline-block;
  }

  .mouse-over-img img{
    position: inline;
    width: 200px;
    height: 200px;
  }
}*/

</style>


<!-- 

TODO
 
- rough 2016
- more words
- fix mobile
- Holly Hartman's account was good
- top imgur doesn't work
- edit kevin drum

 -->
